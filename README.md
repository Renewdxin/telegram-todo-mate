# Telegram Todo Bot

一个帮助管理待办事项的 Telegram 机器人，支持创建、完成、删除任务，以及设置和修改任务的截止时间。

## 功能特点

- 创建待办事项（可选设置截止时间）
- 完成待办事项
- 删除待办事项
- 修改任务截止时间
- 查看未完成的任务
- 查看今天需要完成的任务

## 使用说明

### 创建任务

有两种方式创建任务：

1. 直接发送任务内容（无截止时间）：
```
完成项目报告
```

2. 设置截止时间的任务（日期后的时间可选，默认为 18:00）：
```
2024-01-20, 完成项目报告
```
或
```
2024-01-20 14:30, 完成项目报告
```

### 完成任务
```
done 1
```
将编号为 1 的任务标记为已完成

### 删除任务
```
delete 1
```
删除编号为 1 的任务

### 修改截止时间
时间部分可选，默认为 18:00
```
change endtime 1 2024-01-20
```
或
```
change endtime 1 2024-01-20 14:30
```
### 查询待办事项

1. 查看所有待办事项（包括已完成）：
```
/demo
```
示例输出：
```
📝 所有待办事项：

🔸 任务 1: 完成项目报告
   创建于: 2024-01-15 10:30
   截止时间: 2024-01-20 18:00
   状态: ⏳ 进行中

🔸 任务 2: 准备周会演示
   创建于: 2024-01-15 09:00
   截止时间: 2024-01-16 14:30
   状态: ✅ 已完成
```

2. 只查看未完成的待办事项：
```
/demoz
```
示例输出：
```
📝 未完成的待办事项：

🔸 任务 1: 完成项目报告
   创建于: 2024-01-15 10:30
   截止时间: 2024-01-20 18:00

🔸 任务 3: 审核代码
   创建于: 2024-01-15 11:00
   截止时间: 2024-01-17 18:00
```

## 注意事项

- 创建或修改任务时，截止时间必须晚于当前时间
- 已完成的任务不能修改截止时间
- 如果只提供日期不提供时间，系统会默认使用当天 18:00 作为截止时间
- 所有时间均使用 24 小时制

## 错误提示

机器人会在以下情况返回错误提示：
- 任务不存在
- 任务已完成
- 截止时间格式错误
- 截止时间早于当前时间
- 任务内容为空

## 技术栈

- Python
- python-telegram-bot
- SQLAlchemy
- PostgreSQL

## 环境要求

- Python 3.7+
- PostgreSQL 数据库